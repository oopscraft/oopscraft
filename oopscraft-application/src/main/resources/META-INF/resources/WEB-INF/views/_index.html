<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    	<title>Application</title>
		<link rel="stylesheet" type="text/css" th:href="@{/static/duice/polyfill/normalize.css}">
		<script th:src="@{/static/duice/polyfill/dataset.js}"></script>
		<script th:src="@{/static/duice/polyfill/classList.js}"></script>
		<script th:src="@{/static/duice/polyfill/dialog.js}"></script>
		<link rel="stylesheet" type="text/css" th:href="@{/static/duice/polyfill/dialog.css}">
		<script th:src="@{/static/duice/duice.js}"></script>
		<link rel="stylesheet" type="text/css" th:href="@{/static/duice/duice.css}">
		<script th:src="@{/static/duice/widget/duice.widget.pagination.js}"></script>
		<link rel="stylesheet" type="text/css" th:href="@{/static/duice/widget/duice.widget.pagination.css}">
		<link rel="stylesheet" th:href="@{/static/duice/plugin/prism/prism.css}">
		<script th:src="@{/static/duice/plugin/prism/prism.js}"></script>
		<script th:src="@{/static/duice/plugin/marked/marked.min.js}"></script>
		<script th:src="@{/static/duice/plugin/ckeditor/ckeditor.js}"></script>
		<script th:src="@{/static/duice/plugin/duice.plugin.ckeditor.js}"></script>
		<link rel="stylesheet" type="text/css" th:href="@{/static/duice/plugin/simplemde/simplemde.min.css}">
        <script th:src="@{/static/duice/plugin/simplemde/simplemde.min.js}"></script>
        <link rel="stylesheet" type="text/css" th:href="@{/static/duice/plugin/duice.plugin.simplemde.css}">
        <script th:src="@{/static/duice/plugin/duice.plugin.simplemde.js}"></script>
        <link rel="stylesheet" type="text/css" th:href="@{/static/duice/plugin/duice.plugin.marked.css}">
        <script th:src="@{/static/duice/plugin/duice.plugin.marked.js}"></script>
		<script th:src="@{/static/jquery.js}"></script>
		<link rel="stylesheet" type="text/css" th:href="@{/static/application.css}">
		<script th:src="@{/static/application.js}"></script>
		<script th:src="@{/static/libphonenumber.js}"></script>
		<script th:src="@{/static/moment.js}"></script>
		<script th:src="@{/static/chartjs/Chart.js}"></script>
		<script>
        var _menus = new duice.List();
        
    	// document ready
    	$(document).ready(function() {
    		
    		// getting menus
 			_getMenus();
    		
    	});

    	/**
    	 * Getting menus
    	 */
    	function _getMenus() {
    		$.ajax({
	   			 url: '[[@{/api/menus}]]'
	   			,type: 'GET'
	   		})
	   		.done(function(data, textStatus, jqXHR) {
	   			_menus.fromJson(data);
	   	   	});
    	}
    	
        /**
         * Exeuctes login
         */ 
        function _login(){
        	location.href='[[@{/user/login}]]'; 
        }
    	
        /**
         * Exeuctes logout
         */ 
        function _logout(){
			$.ajax({
				 url: '[[@{/user/logout}]]'
				,type: 'POST'
				,success: function(data, textStatus, jqXHR) {
					location.href='[[@{/}]]';
		    	 }
			});
        }
        
        /**
         * Join page
         */
        function _join() {
        	location.href='[[@{/user/join}]]';
        }
		</script>
	</head>
	<body> 
		<!-- auto completion off -->
		<div style="display:none;">
			<input type="text"/>
			<input type="password"/>
		</div>
		<th:block th:include="|../theme/${_application.theme}/_index.html|"></th:block>
	</body>
</html>